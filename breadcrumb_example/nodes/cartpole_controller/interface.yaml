node:
  name: ${THIS_NODE}
  package: ${THIS_PACKAGE}

parameters:
  k1:
    type: double
    default_value: 0.0
    description: State feedback gain for cart position
    read_only: false

  k2:
    type: double
    default_value: 0.0
    description: State feedback gain for cart velocity
    read_only: false

  k3:
    type: double
    default_value: 0.0
    description: State feedback gain for pole angle
    read_only: false

  k4:
    type: double
    default_value: 0.0
    description: State feedback gain for pole angular velocity
    read_only: false

  param_sub_test:
    type: string
    default_value: test
    description: A test parameter for topic param substitution
    read_only: true

subscribers:
  - topic: joint_states
    type: sensor_msgs/msg/JointState
    qos:
      history: 1
      reliability: BEST_EFFORT  # Matches simulator - compatible!
      durability: VOLATILE

publishers:
  - topic: force
    type: std_msgs/msg/Float64
    qos:
      history: 10
      reliability: RELIABLE
      durability: VOLATILE

  - topic: "/test/${param: param_sub_test}"
    field_name: param_sub_test
    type: std_msgs/msg/String
    qos:
      history: 10
      reliability: RELIABLE

services:
  - name: enable
    type: std_srvs/srv/SetBool

actions:
  - name: track_position
    type: breadcrumb_example_interfaces/action/TrackPosition
